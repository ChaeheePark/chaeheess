**Data Link Layer**

- Data Link Layer

  - 데이터링크 층은 error - free link이고, reliable한 통신을 보장한다

  - 2개의 층으로 이루어져있음 (하는 역할 다름)

    - Data Link control :

      - Framing
      - Physical addressing
      - Flow control, Error control(TCP와 비슷)
      - medium access control

    - Multiple-access resolution  :  먼저 차지하려고 하다가 충돌생김

      - Random access protocols : 모든 station은 다른 station과 독립적이라서 2개이상의 data가 들어오면 collision이 발생할 수 도 있다.

        - ALOHA : 각 단말기가 독립적으로 서로 원하는 순간에 정보를 전달해서 충돌이 많이 발생 => slot을 나눠서 전송하면 어떨까 ? =>  확률이 줄어들긴 하지만 그래도 많이 충돌
          - 노드는 데이터 전송을 언제든지 할수있고 ACK를 받는다. 만약 하나의 Frame 이상이 같은 시간에 전송된다면, 그들은 서로 간섭을 겪기때문에 충돌하거나 패킷을 잃어버린다.  (Collision or Lost) 만약 ACK 패킷이 지정된 시간안에 도착하지 않으면 Timeout이 발생하고 전송을 한 노드는 Backoff time만큼 기다린후   다시 전송을 시도한다.
        - CSMA/CD:  (유선환경에서 충돌감지기능을통해 충돌여부를 확인)
          - back off를 미리 수행 !
          - 네트워크를 사용하려는 컴퓨터는 먼저 현재 네트워크 상에 통신이 일어나고 있는지를 확인한다. - > 현재 다른 데이터가 전송중이면 사용할 수 있을때까지 기다리고 아니면 전송을 시작한다. -> 여러군데에서 동시에 전송을 시작해 충돌이 발생하면 잼 신호를 브로드캐스트 한다. -> 그뒤 임의시간동안 기다린 뒤 다시 신호를 감지하고 네트워크 사용자가 없으면 전송을 다시 시작한다 - > 전송을 마치면 상위계층에 전송이 끝났음을 알리고 마친다 -> 여러번 다시시도했음에도 실패하면 이를 상위계층에 알리고 끝마친다.
        - CSMA/CA : (무선환경에서 충돌을 회피하는 기술)
          - 데이터 흐름을 감지하여 네트워크가 사용중이 아니면 바로 패킷을 보내지 않고 예비 신호를 먼저 보내서 데이터 전송 중 패킷 충돌을 피하는 방법으로 데이터를 전송하면 충돌하지 않는다. 
          - IFS: 충돌 회피를 위해 프레임간의 여유 간격을 두는ㄴ것
          - 노드가 매체를 감지 -> 매체가 IFS동안 사용되지 않으면 송신 시작 -> 매체가 사용 중이면 노드는 IFS의 주기동안 기다린 후 충돌을 피하기 위해 슬롯시간의 배수만큼의 랜덤 백오프 시간동안 더 기다림 -> 백오프 시간 동안 다른 노드가 이미 매체를 점유하면 백오프 타이머 중지-> 다음에 매체 경쟁 시 중지된 이후부터 카운트 시작하여 공정성 부여
          - contention window: IFS지난후 임의 대기하게 되는 슬롯단위로 구분되는 시간범위

      - Controlled -access protocols

        - Reservation : 예약을 하고 보냄
        - Polling :  하나의 통신회선을 공유하고 있는 장치들이 전송할 데이터를 갖고있는지 여부를 확인하기 위해 중앙제어기가 poll을 보내 점검
        - Token passing : 토큰을 가진 시스템이 데이터를 송신 할 권한을 가짐

      - Channelization protocols

        - FDMA : 주파수를 나누어 사용, 주파수 분할 다중 접속
        - TDMA : 시간을 나누어 사용, 시간 분할 다중 접속
        - CDMA : 코드를 나누어 사용, 코드 분할 다중 접속
          - encoding, decoding 함
          - data *  나만의채널코드

        
